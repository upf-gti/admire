(this.webpackJsonpadmire=this.webpackJsonpadmire||[]).push([[5],{20:function(e,n,t){"use strict";t.d(n,"a",(function(){return a}));var r=t(5),o=t(0),c=t(3),i=t(1),a=Object(o.createContext)(null);n.b=function(e){var n=e.children,t=Object(o.useRef)(null),l=Object(o.useState)(null),d=Object(r.a)(l,2),u=d[0],s=d[1],f=Object(o.useState)(null),g=Object(r.a)(f,2),v=g[0],b=g[1],S=Object(o.useState)(null),m=Object(r.a)(S,2),p=m[0],h=m[1],k=Object(o.useReducer)((function(e,n){return t&&t.current&&(t.current.srcObject=n),n}),c.b.getStream()),j=Object(r.a)(k,2),w=j[0],O=j[1],y={videoRef:t,devices:[u,s],settings:[v,b],resolutions:[p,h],localStream:[w,O]};function I(e){var n=e.resolutions;h(n)}function x(e){var n=e.audioDevices,t=e.videoDevices,r=e.settings;b(r),s({audio:n,video:t})}function A(e){var n=e.stream,t=e.settings;for(var r in b(t),O(n),c.d.getCalls()){var o=c.d.getCall(r),i=n.getVideoTracks()[0];o.replaceLocalVideoTrack(i);var a=n.getAudioTracks()[0];o.replaceLocalAudioTrack(a)}}function N(e){var n=e.description;console.error("Error:",n)}function J(){c.c.off("got_stream",A),c.c.off("got_devices",x),c.c.off("got_resolutions",I),c.c.off("error_stream",N),c.c.off("error_devices",N)}return Object(o.useEffect)((function(){c.c.on("got_stream",A),c.c.on("got_devices",x),c.c.on("got_resolutions",I),c.c.on("error_stream",N),c.c.on("error_devices",N),c.c.getDevices(),window.removeEventListener("unload ",J),window.addEventListener("unload ",J)}),[]),Object(i.jsx)(a.Provider,{value:y,children:n})}},21:function(e,n,t){"use strict";t.d(n,"a",(function(){return a}));var r=t(5),o=t(0),c=t(13),i=t(1),a=Object(o.createContext)(null);n.b=function(e){var n=e.children,t=Object(o.useState)([]),l=Object(r.a)(t,2);l[0],l[1];var d={loading:function(e,n){return c.b.loading(null!==e&&void 0!==e?e:"Loading...",n)},promise:function(e,n,t,r){return c.b.promise(e,{loading:"Processing...",success:null!==n&&void 0!==n?n:function(e){return console.log(e),null!==e&&void 0!==e?e:"Success!"},error:null!==t&&void 0!==t?t:function(e){return console.error(e),"Error:".concat(e)}},Object.assign({style:{minWidth:"250px"},loading:{icon:"\ud83d\udce4"},success:{icon:"\ud83d\udc4d"},error:{icon:"\ud83d\udc4e"}},r))},success:function(e,n){return console.log("%c Success %c: ".concat(e),"background-color:green","color:white"),c.b.success("".concat(e),Object.assign({icon:"\ud83d\udc4d"},n))},error:function(e,n){return console.trace("%c Error %c: ".concat(e),"background-color:red; color:white","color:white"),Object(c.b)("".concat(e),Object.assign({icon:"\ud83d\udc4e",style:{background:"#DC143C"}},n))},info:function(e,n){return console.log("%c Info %c: ".concat(e),"background-color:cyan; color:black; font-weight: bolder;","color:white"),Object(c.b)("".concat(e),Object.assign({icon:"\ud83d\udce3"},n))},warn:function(e,n){return console.warn("%c Warn %c: ".concat(e),"background-color:orange; color:black","color:white"),Object(c.b)("".concat(e),Object.assign({icon:"\u26a0\ufe0f",style:{background:"#FFA500"}},n))}};return Object(i.jsx)(a.Provider,{value:d,children:n})}},3:function(e,n,t){"use strict";t.d(n,"d",(function(){return v})),t.d(n,"a",(function(){return s})),t.d(n,"c",(function(){return f})),t.d(n,"b",(function(){return g}));var r=t(7),o=t.n(r),c=t(15);function i(e,n,t){var r=e,i=n,a=t,l=null,d=[];return{get callId(){return r},get callerId(){return i},get calleeId(){return a},get connection(){return l},set connection(e){l=e},getState:function(){return l?l.iceConnectionState:"closed"},getStats:function(){var e=Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,l.getStats(null).then((function(e){var n={callId:r,callerId:i,calleeId:a},t=null;return e.forEach((function(e){"candidate-pair"!==e.type||!0!==e.selected&&"succeeded"!==e.state||(t=e)})),t&&e.forEach((function(e){var r,o;e.id===t.localCandidateId&&(n.localType=e.candidateType,n.localAddress=null!==(r=e.address)&&void 0!==r?r:e.ip,n.localPort=e.port,n.localProtocol=e.protocol);e.id===t.remoteCandidateId&&(n.remoteType=e.candidateType,n.remoteAddress=null!==(o=e.address)&&void 0!==o?o:e.ip,n.remotePort=e.port,n.remoteProtocol=e.protocol)})),Promise.resolve(n)}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),addCandidate:function(e){l?l.addIceCandidate(e):d.push(e)},gatherPendingCandidates:function(){d.length>0&&(d.forEach((function(e){return l.addIceCandidate(e)})),d=[])},getRemoteAudioTrack:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!l)return null;var n=l.getReceivers();if(!n)return null;for(var t=[],r=0;r<n.length;r++){var o=n[r];"audio"===o.track.kind&&t.push(o.track)}return e>=0&&e<t.length?t[e]:null},getRemoteVideoTrack:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!l)return null;var n=l.getReceivers();if(!n)return null;for(var t=[],r=0;r<n.length;r++){var o=n[r];"video"===o.track.kind&&t.push(o.track)}return e>=0&&e<t.length?t[e]:null},getRemoteStream:function(){if(!l)return null;var e=l.getReceivers();if(!e)return null;for(var n=[],t=0;t<e.length;t++){var r=e[t];r.track&&n.push(r.track)}if(0===n.length)return null;for(var o=new MediaStream,c=0;c<n.length;c++){var i=n[c];o.addTrack(i)}return o},replaceLocalAudioTrack:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!l||!e)return!1;for(var t=[],r=l.getSenders(),o=0;o<r.length;o++){var c=r[o];c.track&&"audio"===c.track.kind&&t.push(c)}return n>=0&&n<t.length&&(t[n].replaceTrack(e),!0)},replaceLocalVideoTrack:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!l||!e)return!1;for(var t=[],r=l.getSenders(),o=0;o<r.length;o++){var c=r[o];c.track&&"video"===c.track.kind&&t.push(c)}return n>=0&&n<t.length&&(t[n].replaceTrack(e),!0)}}}var a=t(18),l=t(27),d=t(5),u=t(36);var s=window.appClient=new function(e){e="object"!==typeof e?{}:e;var n=(e=Object.assign({debug:!1,debugStyle:"background: hsla(0, 0%, 13%, 1); color: hsla(180, 89%, 45%, 1)",pingPeriod:5e3},e)).debug?window.console:null,t={},r=null,o=null,c=null,i=null,a={},l=function(e){var n=[].slice.call(arguments,1);if("object"===typeof t[e])for(var r=t[e].slice(),o=0;o<r.length;o++)r[o].apply(this,n)},d=function(t){g(),null===n||void 0===n||n.log("%cclient_connected%o",e.debugStyle,o.url),l("client_connected",{url:o.url})},u=function(t){var r=JSON.parse(t.data);if(r.id in S){if(!1===S[r.id])return;null===n||void 0===n||n.log("%c%s%o",e.debugStyle,r.id,t.data),S[r.id]instanceof Function&&S[r.id](r),l(r.id,r)}else null===n||void 0===n||n.log("%cunknown_message%o",e.debugStyle,t.data)},s=function(t){var r=JSON.stringify(t);"ping"!==t.id&&(null===n||void 0===n||n.log(" %c%s%o",e.debugStyle,t.id,r)),o.send(r)},f=function(t){window.clearTimeout(c),null===n||void 0===n||n.log("%cclient_disconnected%o",e.debugStyle,o.url),l("client_disconnected",{url:o.url})},g=function t(){o?1===o.readyState?(v(),c=window.setTimeout(t,e.pingPeriod)):null===n||void 0===n||n.error("Connection not open, ready state "+o.readyState):null===n||void 0===n||n.error("Websocket is null")},v=function(){s({id:"ping"})},b=function(e){return!(!e||""===e)&&new RegExp("^([a-zA-Z])(([a-zA-Z0-9]+)([.-_]?))*([a-zA-Z0-9])$").test(e)},S={pong:!1,login_response:function(e){"ok"===e.status&&(i=e.userId)},logout_response:function(e){"ok"===e.status&&(r=null,i=null,null,a={})},get_room_response:!0,get_rooms_response:!0,create_room_response:function(e){"ok"===e.status&&e.roomId},room_created:!0,join_room_response:function(e){"ok"===e.status&&e.roomId},guest_joined_room:!0,user_joined_room:!0,leave_room_response:function(e){"ok"===e.status&&(null,a={})},master_left_room:!0,guest_left_room:!0,user_left_room:!0,room_deleted:!0,enable_channel_response:!0,channel_enabled:!0,disable_channel_response:!0,channel_disabled:function(e){e.userId===i&&e.channelId in a&&delete a[e.channelId]},join_channel_response:function(e){"ok"===e.status&&(a[e.channelId]=!0)},user_joined_channel:!0,leave_channel_response:function(e){"ok"===e.status&&delete a[e.channelId]},user_left_channel:!0,forward_message_response:!0,remote_message:!0};return{on:function(e,n){"object"!==typeof t[e]&&(t[e]=[]),t[e].push(n)},off:function(e,n){if("object"===typeof t[e]){var r=t[e].indexOf(n);r>-1&&t[e].splice(r,1)}},connect:function(e){(o=new WebSocket(e)).onopen=d,o.onmessage=u,o.onclose=f},disconnect:function(){var e;null===(e=o)||void 0===e||e.close()},login:function(e){s({id:"login",token:r=e})},logout:function(){s({id:"logout",token:r})},getRoom:function(){s({id:"get_room",token:r})},getRooms:function(){s({id:"get_rooms",token:r})},createRoom:function(e){return!!b(e)&&(s({id:"create_room",token:r,roomId:e}),!0)},joinRoom:function(e){s({id:"join_room",token:r,roomId:e})},leaveRoom:function(){s({id:"leave_room",token:r})},enableChannel:function(e,n){s({id:"enable_channel",token:r,userId:e,channelId:n})},disableChannel:function(e,n){s({id:"disable_channel",token:r,userId:e,channelId:n})},joinChannel:function(e){s({id:"join_channel",token:r,channelId:e})},leaveChannel:function(e){s({id:"leave_channel",token:r,channelId:e})},forwardMessage:function(e,n){i!==e&&s({id:"forward_message",token:r,userId:e,msg:n})},isDisconnected:function(){return!o||"3"===o.readyState},isLogged:function(e){return!!i&&i===e},isInChannel:function(e){return e in a}}},f=window.mediaAdapter=new function(e){e="object"!==typeof e?{}:e;var n=(e=Object.assign({debug:!1,debugStyle:"background: hsla(0, 0%, 13%, 1); color: hsla(13, 89%, 45%, 1)"},e)).debug?window.console:null,t={},r=null,i=null,s=null,f=null,g={},v={},b={Undefined:{width:void 0,height:void 0},"320x240":{width:320,height:240},"640x360":{width:640,height:360},"640x480":{width:640,height:480},"1280x720":{width:1280,height:720},"1920x1080":{width:1920,height:1080},"3840x2160":{width:3840,height:2160},"7680x4320":{width:7680,height:4320}},S={audio:{deviceId:{exact:void 0}}},m={video:{deviceId:{exact:void 0},width:{exact:void 0},height:{exact:void 0},frameRate:{ideal:60}}},p={audio:null,video:null,resolution:null},h=null,k=null,j=function(e){var n=[].slice.call(arguments,1);if("object"===typeof t[e])for(var r=t[e].slice(),o=0;o<r.length;o++)r[o].apply(this,n)},w=function(){var e=Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",y().then(I).catch(x));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(c.a)(o.a.mark((function e(){var n,t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=window.localStorage.getItem("audio")||"None")in g||(n="None",window.localStorage.removeItem("audio")),(t=window.localStorage.getItem("video")||"None")in v||(t="None",window.localStorage.removeItem("video")),e.prev=4,e.next=7,A(n);case 7:return e.prev=7,e.next=10,N(t);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(7),N("None");case 15:e.next=29;break;case 17:return e.prev=17,e.t1=e.catch(4),e.next=21,A("None");case 21:return e.prev=21,e.next=24,N(t);case 24:e.next=29;break;case 26:e.prev=26,e.t2=e.catch(21),N("None");case 29:case"end":return e.stop()}}),e,null,[[4,17],[7,12],[21,26]])})));return function(){return e.apply(this,arguments)}}(),y=function(){return window.navigator.mediaDevices.enumerateDevices()},I=function(t){v={},(g={}).None="",v.None="";var r,o=0,c=0,i=Object(u.a)(t);try{for(i.s();!(r=i.n()).done;){var a=r.value;if("audioinput"===a.kind){var l=""===a.label?"Audio input "+o:a.label;g[l]=a.deviceId,o++}if("videoinput"===a.kind){var d=""===a.label?"Video input "+c:a.label;v[d]=a.deviceId,c++}}}catch(s){i.e(s)}finally{i.f()}null===n||void 0===n||n.log("%cDevice Infos%o",e.debugStyle,JSON.stringify(t)),null===n||void 0===n||n.log("%cgot_devices%o%o%o",e.debugStyle,JSON.stringify(g),JSON.stringify(v),JSON.stringify(p)),null===n||void 0===n||n.log("%cgot_resolutions%o%o",e.debugStyle,JSON.stringify(b),JSON.stringify(p)),j("got_devices",{audioDevices:g,videoDevices:v,settings:p}),j("got_resolutions",{resolutions:b,settings:p})},x=function(t){var r="Device request not allowed in the browser context.";null===n||void 0===n||n.log("%cerror_devices%o%o",e.debugStyle,t,r),j("error_devices",{error:t,description:r})},A=function(t){if(!(t in g))return Promise.reject(new Error("Device "+t+" doesn't exist"));if(t===p.audio)return Promise.reject(new Error("Device "+t+" already selected"));if("None"===t)return p.audio=t,window.localStorage.setItem("audio",p.audio),i=R(),f=F(i,s),null===n||void 0===n||n.log("%cgot_stream%o%o",e.debugStyle,f,JSON.stringify(p)),j("got_stream",{stream:f,settings:p}),Promise.resolve(f);h=M(S);var r=g[t];return S.audio.deviceId.exact=r,W()},N=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Undefined";if(!(t in v))return Promise.reject(new Error("Device "+t+" doesn't exist"));if(!(r in b))return Promise.reject(new Error("Resolution "+r+" doesn't exist"));if(t===p.video&&r===p.resolution)return Promise.reject(new Error("Device "+t+" and resolution "+r+" already selected"));if("None"===t){p.video=t,p.resolution=r,window.localStorage.setItem("video",p.video);var o=b[r].width,c=b[r].height;return s=T(o,c),f=F(i,s),null===n||void 0===n||n.log("%cgot_stream%o%o",e.debugStyle,f,JSON.stringify(p)),j("got_stream",{stream:f,settings:p}),Promise.resolve(f)}k=M(m);var a=v[t];m.video.deviceId.exact=a;var l=b[r].width,d=b[r].height;return m.video.width.exact=l,m.video.height.exact=d,P()},J=function(){var e=new AudioContext,n=e.createGain(),t=e.createOscillator();t.connect(n);var r=n.connect(e.createMediaStreamDestination());return n.gain.setValueAtTime(0,e.currentTime),t.start(),r.stream.getAudioTracks()[0]},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:320,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:240;r||(r=window.document.createElement("canvas")),r.width=e,r.height=n;var t=r.getContext("2d");t.fillRect(0,0,e,n);var o=r.captureStream(),c=o.getVideoTracks()[0];return c},R=function(){return new MediaStream([J()])},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:320,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:240;return new MediaStream([D(e,n)])},W=function(){return null===n||void 0===n||n.log("%cGet Audio Stream%o",e.debugStyle,JSON.stringify(S)),f=null,Z(i),window.navigator.mediaDevices.getUserMedia(S).then(C).catch((function(e){throw E(e),e}))},P=function(){return null===n||void 0===n||n.log("%cGet Video Stream%o",e.debugStyle,JSON.stringify(m)),f=null,Z(s),window.navigator.mediaDevices.getUserMedia(m).then(L).catch((function(e){throw z(e),e}))},C=function(){var t=Object(c.a)(o.a.mark((function t(r){var c,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=r.getAudioTracks()[0],a=c.getSettings(),null===n||void 0===n||n.log("%cAudio Track%o%o",e.debugStyle,JSON.stringify(c.label),JSON.stringify(a)),c.label in g){t.next=6;break}return t.next=6,w();case 6:p.audio=c.label,window.localStorage.setItem("audio",p.audio),f=F(i=r,s),null===n||void 0===n||n.log("%cAudio Constraints%o",e.debugStyle,JSON.stringify(S)),null===n||void 0===n||n.log("%cgot_stream%o%o",e.debugStyle,f,JSON.stringify(p)),j("got_stream",{stream:f,settings:p});case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),L=function(){var t=Object(c.a)(o.a.mark((function t(r){var c,u,g,S,h;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=r.getVideoTracks()[0],u=c.getSettings(),null===n||void 0===n||n.log("%cVideo Track%o%o",e.debugStyle,JSON.stringify(c.label),JSON.stringify(u)),c.label in v){t.next=6;break}return t.next=6,w();case 6:g=u.width,S=u.height,b[h=g+"x"+S]||(b[h]={width:g,height:S},b=Object.entries(b).sort((function(e,n){return(e[1].width||Number.NEGATIVE_INFINITY)>(n[1].width||Number.NEGATIVE_INFINITY)})).reduce((function(e,n){var t=Object(d.a)(n,2),r=t[0],o=t[1];return Object(l.a)(Object(l.a)({},e),{},Object(a.a)({},r,o))}),{}),j("got_resolutions",{resolutions:b,settings:p})),m.video.width.exact=g,m.video.height.exact=S,p.video=c.label,p.resolution=h,window.localStorage.setItem("video",p.video),f=F(i,s=r),null===n||void 0===n||n.log("%cVideo Constraints%o",e.debugStyle,JSON.stringify(m)),null===n||void 0===n||n.log("%cgot_stream%o%o",e.debugStyle,f,JSON.stringify(p)),j("got_stream",{stream:f,settings:p});case 20:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),B=function(e){return("NotFoundError"===e.name||"DevicesNotFoundError"===e.name?"Required track is missing.":"NotReadableError"===e.name||"TrackStartError"===e.name?"Microphone or Webcam are already in use.":"OverconstrainedError"===e.name||"ConstraintNotSatisfiedError"===e.name?"Constraints cannot be satisfied.":"NotAllowedError"===e.name||"PermissionDeniedError"===e.name?"Permission denied in browser.":"TypeError"===e.name||"TypeError"===e.name?"Empty constraints object.":"Unknown error.")+" "+e.message},E=function(t){var r=B(t);null===n||void 0===n||n.log("%cError Constraints%o",e.debugStyle,JSON.stringify(S)),null===n||void 0===n||n.log("%cerror_stream%o%o%o",e.debugStyle,t.name,r,JSON.stringify(p)),j("error_stream",{error:t.name,description:r,settings:p}),h&&(S=M(h),h=null,W())},z=function(t){var r=B(t);null===n||void 0===n||n.log("%cError Constraints%o",e.debugStyle,JSON.stringify(m)),null===n||void 0===n||n.log("%cerror_stream%o%o%o",e.debugStyle,t.name,r,JSON.stringify(p)),j("error_stream",{error:t.name,description:r,settings:p}),k&&(m=M(k),k=null,P())},F=function(e,n){if(!e||!(e instanceof MediaStream))return null;if(!n||!(n instanceof MediaStream))return null;var t=e.getAudioTracks();if(!t||0===t.length)return null;var r=n.getVideoTracks();if(!r||0===r.length)return null;var o=new MediaStream;return o.addTrack(t[0]),o.addTrack(r[0]),o},Z=function(e){e&&e instanceof MediaStream&&e.getTracks().forEach((function(e){return e.stop()}))},M=function(e){return JSON.parse(JSON.stringify(e))};return{on:function(e,n){"object"!==typeof t[e]&&(t[e]=[]),t[e].push(n)},off:function(e,n){if("object"===typeof t[e]){var r=t[e].indexOf(n);r>-1&&t[e].splice(r,1)}},start:function(){return navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices?(i=R(),s=T(),f=F(i,s),function(){var t=Object(c.a)(o.a.mark((function t(){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=function(t){return null===n||void 0===n?void 0:n.trace("%cMedia Devices Error%o",e.debugStyle,t)},t.next=3,window.navigator.mediaDevices.getUserMedia({audio:!0}).catch(r);case 3:return t.next=5,window.navigator.mediaDevices.getUserMedia({video:!0}).catch(r);case 5:return t.next=7,w().catch(r);case 7:return t.next=9,O().catch(r);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()(),!0):(null===n||void 0===n||n.log("%cMedia Devices Error%o",e.debugStyle,"Media devices are not available"),!1)},findDevices:w,getDevices:y,setAudio:A,setVideo:N}},g=window.dummyStream=new function(){var e=null,n=null,t=null,r=null,o=null;!function(){var e=new AudioContext,t=e.createGain();e.createOscillator().connect(t);var o=t.connect(e.createMediaStreamDestination());n=o.stream,r=n.getAudioTracks()[0]}(),function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:320,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:240;e||(e=window.document.createElement("canvas")),e.width=n,e.height=r;var c=e.getContext("2d");c.fillRect(0,0,n,r),t=e.captureStream(),o=t.getVideoTracks()[0]}();var c=new MediaStream([r,o]);return{getAudioTrack:function(){return r},getVideoTrack:function(){return o},getStream:function(){return c}}},v=window.rtcClient=new function(e){var n={debug:!1,debugStyle:"background: hsla(0, 0%, 13%, 1); color: hsla(74, 64%, 60%, 1)",pingPeriod:5e3,defaultStream:new MediaStream};e="object"!==typeof e?{}:e;var t=(e=Object.assign(n,e)).debug?window.console:null,r={},a=null,l=null,d={},u=null,s={iceServers:null},f=function(e){var n=[].slice.call(arguments,1);if("object"===typeof r[e])for(var t=r[e].slice(),o=0;o<t.length;o++)t[o].apply(this,n)},g=function(n){m(),null===t||void 0===t||t.log("%cclient_connected%o",e.debugStyle,a.url),f("client_connected",{url:a.url})},v=function(n){var r=JSON.parse(n.data);if(r.id in O){if(!1===O[r.id])return;null===t||void 0===t||t.log("%c%s%o",e.debugStyle,r.id,n.data),O[r.id]instanceof Function&&O[r.id](r),f(r.id,r)}else null===t||void 0===t||t.log("%cunknown_message%o",e.debugStyle,n.data)},b=function(n){u=null,s.iceServers=null,window.clearTimeout(l),null===t||void 0===t||t.log("%cclient_disconnected%o",e.debugStyle,a.url),f("client_disconnected",{url:a.url})},S=function(n){var r=JSON.stringify(n);"ping"!==n.id&&(null===t||void 0===t||t.log("%c%s%o",e.debugStyle,n.id,r)),a.send(r)},m=function n(){a&&1===a.readyState?(p(),l=window.setTimeout(n,e.pingPeriod)):null===t||void 0===t||t.error("Socket state: "+a.readyState)},p=function(){if(!a||1!==a.readyState)return null===t||void 0===t||t.error("Socket state: "+a.readyState),!1;return S({id:"ping"}),!0},h=function(e){var n;if(!(e in d))return!1;var t=d[e];return null===(n=t.connection)||void 0===n||n.close(),delete d[e],f("call_closed",{call:t}),!0},k=function(e){if(!a||1!==a.readyState)return null===t||void 0===t||t.error("Socket state: "+a.readyState),!1;if(e&&!(e in d))return null===t||void 0===t||t.error("Call "+e+" not found"),!1;if(e)return h(e),S({id:"hangup",callId:e}),!0;for(var n in d){h(n),S({id:"hangup",callId:n})}return!0},j=function(){var n=Object(c.a)(o.a.mark((function n(r){var c,i;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:c=r.getState(),null===t||void 0===t||t.log("%cConnection State%o%o",e.debugStyle,r.callId,c),n.t0=c,n.next="failed"===n.t0||"disconnected"===n.t0||"closed"===n.t0?5:"new"===n.t0||"checking"===n.t0||"completed"===n.t0?7:"connected"===n.t0?8:12;break;case 5:return k(r.callId),n.abrupt("break",13);case 7:return n.abrupt("break",13);case 8:return i=r.getRemoteStream(),null===t||void 0===t||t.log("%ccall_opened%o%o",e.debugStyle,r.callId,i),f("call_opened",{call:r,stream:i}),n.abrupt("break",13);case 12:return n.abrupt("break",13);case 13:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),w=function(e){return!(!e||""===e)&&new RegExp("^([a-zA-Z])(([a-zA-Z0-9]+)([.-_]?))*([a-zA-Z0-9])$").test(e)},O={pong:!1,register_response:function(e){"ok"===e.status&&(u=e.userId,s.iceServers=JSON.parse(e.iceServers))},unregister_response:function(e){"ok"===e.status&&(u=null,s.iceServers=null)},call_response:function(e){if("ok"===e.status){var n=new i(e.callId,e.callerId,e.calleeId);d[n.callId]=n}},incoming_call:function(e){var n=new i(e.callId,e.callerId,e.calleeId);d[e.callId]=n},accept_call_response:!1,cancel_call_response:!1,call_accepted:function(e){var t=new RTCPeerConnection(s),r=d[e.callId];r.connection=t,r.connection.oniceconnectionstatechange=function(e){j(r)},r.connection.onicecandidate=function(n){if(n.candidate&&""!==n.candidate){var t={id:"candidate",callId:e.callId,callerId:e.callerId,calleeId:e.calleeId,candidate:JSON.stringify(n.candidate)};S(t)}},r.connection.onnegotiationneeded=function(n){r.connection.createOffer().then((function(n){r.connection.setLocalDescription(n);var t={id:"offer",callId:e.callId,callerId:e.callerId,calleeId:e.calleeId,offer:JSON.stringify(n)};S(t)}))},n.defaultStream.getTracks().forEach((function(e){return r.connection.addTrack(e)}))},call_canceled:function(e){h(e.callId)},offer_response:!1,remote_offer:function(e){var t=new RTCPeerConnection(s),r=d[e.callId];r.connection=t,r.connection.oniceconnectionstatechange=function(e){j(r)},r.connection.setRemoteDescription(JSON.parse(e.offer)),r.gatherPendingCandidates(),r.connection.onicecandidate=function(n){if(n.candidate&&""!==n.candidate){var t={id:"candidate",callId:e.callId,callerId:e.callerId,calleeId:e.calleeId,candidate:JSON.stringify(n.candidate)};S(t)}},n.defaultStream.getTracks().forEach((function(e){return r.connection.addTrack(e)})),window.setTimeout((function(){r.connection.createAnswer().then((function(n){r.connection.setLocalDescription(n);var t={id:"answer",callId:e.callId,callerId:e.callerId,calleeId:e.calleeId,answer:JSON.stringify(n)};S(t)}))}),500)},answer_response:!1,remote_answer:function(e){if(e.callId in d){var n=JSON.parse(e.answer);d[e.callId].connection.setRemoteDescription(n)}},candidate_response:!1,remote_candidate:function(e){var n=JSON.parse(e.candidate);n&&n.candidate&&""!==n.candidate&&(e.callId in d&&d[e.callId].addCandidate(n))},hangup_response:!0,user_hangup:function(e){h(e.callId)}};return{on:function(e,n){"object"!==typeof r[e]&&(r[e]=[]),r[e].push(n)},off:function(e,n){if("object"===typeof r[e]){var t=r[e].indexOf(n);t>-1&&r[e].splice(t,1)}},getCall:function(e){return e in d?d[e]:null},getCalls:function(){return d},connect:function(e){a&&3!=a.readyState||((a=new WebSocket(e)).onopen=g,a.onmessage=v,a.onclose=b)},disconnect:function(){var e;a&&1!=a.readyState&&(null===(e=a)||void 0===e||e.close())},register:function(e){return a&&1===a.readyState?u?(null===t||void 0===t||t.error("Client already registered"),!1):w(e)?(S({id:"register",userId:e}),!0):(null===t||void 0===t||t.error("Invalid user id "+e),!1):(null===t||void 0===t||t.error("Socket state: "+a.readyState),!1)},unregister:function(){return a&&1===a.readyState?u?(k(),S({id:"unregister",userId:u}),!0):(null===t||void 0===t||t.error("Client not registered"),!1):(null===t||void 0===t||t.error("Socket state: "+a.readyState),!1)},call:function(e){return a&&1===a.readyState?u!==e&&w(e)?(S({id:"call",callerId:u,calleeId:e}),!0):(null===t||void 0===t||t.error("Invalid user id "+e),!1):(null===t||void 0===t||t.error("Socket state: "+a.readyState),!1)},acceptCall:function(e){if(!a||1!==a.readyState)return null===t||void 0===t||t.error("Socket state: "+a.readyState),!1;if(!(e in d))return null===t||void 0===t||t.error("Call "+e+" not found"),!1;var n=d[e],r={id:"accept_call",callId:n.callId,callerId:n.callerId,calleeId:n.calleeId};return S(r),!0},cancelCall:function(e){if(!a||1!==a.readyState)return null===t||void 0===t||t.error("Socket state: "+a.readyState),!1;if(!(e in d))return null===t||void 0===t||t.error("Call "+e+" not found"),!1;var n=d[e];delete d[e];var r={id:"cancel_call",callId:n.callId,callerId:n.callerId,calleeId:n.calleeId};return S(r),!0},hangup:k}}({debug:!0,defaultStream:g.getStream()});s.DEBUG=!1,v.DEBUG=!1,f.DEBUG=!1},37:function(e,n,t){"use strict";function r(e,n,t){var r=new Date;r.setTime(r.getTime()+24*t*60*60*1e3),document.cookie="".concat(e,"=").concat(n,"; expires=").concat(r.toUTCString(),"; path=/")}function o(e){var n,t=e+"=";return decodeURIComponent(document.cookie).split("; ").forEach((function(e){0===e.indexOf(t)&&(n=e.substring(t.length))})),n}t.d(n,"b",(function(){return r})),t.d(n,"a",(function(){return o}))},38:function(e,n,t){"use strict";n.a="data:image/png;base64,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"},74:function(e,n,t){},77:function(e,n,t){},83:function(e,n,t){"use strict";t.r(n);var r=t(5),o=t(0),c=t(30),i=t(31),a=t.n(i),l=(t(49),t(50),t(72),t(73),t(74),t(13)),d=t(21),u=t(20),s=t(4),f=t(23),g=t(85),v=t(86),b=t(84),S=t(37),m=t(3),p=(t(77),t(38)),h=t(1),k=Object(o.lazy)((function(){return Promise.all([t.e(0),t.e(1),t.e(2),t.e(3),t.e(8)]).then(t.bind(null,173))})),j=Object(o.lazy)((function(){return Promise.all([t.e(0),t.e(1),t.e(4),t.e(10)]).then(t.bind(null,174))})),w=Object(o.lazy)((function(){return Promise.all([t.e(0),t.e(1),t.e(2),t.e(12)]).then(t.bind(null,172))})),O=Object(o.lazy)((function(){return Promise.all([t.e(0),t.e(2),t.e(3),t.e(9)]).then(t.bind(null,171))})),y=Object(o.lazy)((function(){return Promise.all([t.e(0),t.e(1),t.e(4),t.e(13)]).then(t.bind(null,168))})),I=Object(o.lazy)((function(){return t.e(11).then(t.bind(null,175))}));function x(){var e="wss://admire-dev-rtc.brainstorm3d.com/",n="wss://admire-dev-lobby.brainstorm3d.com/",t=(Object(s.f)(),Object(o.useContext)(d.a)),c=Object(o.useContext)(u.a),i=(c.videoRef,Object(r.a)(c.devices,2)),a=(i[0],i[1],Object(r.a)(c.settings,2)),l=(a[0],a[1],Object(r.a)(c.localStream,2)),x=(l[0],l[1],Object(o.useState)(null)),A=Object(r.a)(x,2),N=A[0],J=A[1],D=Object(o.useState)(!1),R=Object(r.a)(D,2),T=(R[0],R[1],Object(o.useState)({})),W=Object(r.a)(T,2),P=W[0],C=W[1],L=Object(o.useReducer)((function(e,n){return localStorage.setItem("admire-user-ready",n),sessionStorage.setItem("admire-user-ready",n),n}),null,(function(e){var n,t,r=null!==(n=JSON.parse(null!==(t=sessionStorage.getItem("admire-user-ready"))&&void 0!==t?t:localStorage.getItem("admire-user-ready")))&&void 0!==n?n:e;return localStorage.setItem("admire-user-ready",r),sessionStorage.setItem("admire-user-ready",r),r})),B=Object(r.a)(L,2),E=B[0],z=B[1];function F(n){t.info("App client connected"),m.d.connect(e)}function Z(e){t.info("Rtc client connected"),m.c.start()}function M(){t.warn("App client disconnected")}function X(){t.info("Logout"),J(null),m.d.unregister()}function V(e,n){null===n?delete P[e]:P[e]=n,C(Object.assign({},P))}Object(o.useEffect)((function(){return console.clear(),V("wizzard",Object(h.jsxs)(f.b,{to:"/wizzard",children:[" ",Object(h.jsxs)("li",{children:[" ",Object(h.jsx)(g.a,{src:p.a,style:{filter:"invert(1)"},width:24})," Wizzard"]})," "]})),m.a.on("logout_response",X),m.a.on("client_connected",F),m.a.on("client_disconnected",M),m.d.on("client_connected",Z),m.a.connect(n),function(){V("wizzard",null),m.a.off("client_connected",F),m.a.off("client_disconnected",M),m.a.off("logout_response",X),m.d.off("client_connected",Z),m.a.disconnect(),m.d.disconnect()}}),[n,e]);return Object(h.jsxs)(h.Fragment,{children:[document.fullscreenEnabled&&Object(h.jsxs)(b.a,{onClick:function(){return document.fullscreen?document.exitFullscreen():document.body.requestFullscreen()},variant:"link",style:{zIndex:1e4,position:"absolute",top:10,right:10,border:"none",boxShadow:"none"},children:[" ",Object(h.jsx)("i",{className:"bi-fullscreen-exit"})," "]}),Object(h.jsx)(o.Suspense,{fallback:Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(v.a,{animated:!0,now:100})}),children:Object(h.jsxs)(f.a,{children:[!N&&Object(h.jsxs)(s.a,{exact:!0,path:"/reset-password/:token",children:[" ",Object(h.jsx)(y,{})," "]}),!N&&Object(h.jsx)(s.a,{children:Object(h.jsx)(j,{login:N,setLogin:J})}),N&&Object(h.jsxs)("div",{className:"app wrapper",children:[Object(h.jsx)(I,{user:N,doLogOut:function(){Object(S.b)("credentials",null,0),m.a.logout()},items:Object.values(P)}),Object(h.jsx)("div",{id:"content",children:Object(h.jsxs)(s.c,{children:[!E&&Object(h.jsx)(O,{user:N,ready:{ready:E,setReady:z},setNavItem:V}),Object(h.jsxs)(s.a,{exact:!0,path:"/wizzard",children:[" ",Object(h.jsx)(O,{user:N,ready:{ready:E,setReady:z},setNavItem:V})," "]}),Object(h.jsxs)(s.a,{exact:!0,path:"/rooms/:roomId",children:[" ",Object(h.jsx)(k,{user:N,setNavItem:V})," "]}),Object(h.jsxs)(s.a,{children:[" ",Object(h.jsx)(w,{setLogin:J,user:N,setNavItem:V},Math.floor(1e4*Math.random()))," "]})]})})]})]})})]})}function A(e){var n=e.children;Object(o.useEffect)((function(){return window.toast=l.b}),[]);var t=Object(o.useState)(0),i=Object(r.a)(t,2);i[0],i[1];return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(c.a,{children:Object(h.jsx)("link",{rel:"preload",as:"stylesheet",href:"bootstrap-icons/font/bootstrap-icons.css"})}),Object(h.jsxs)(d.b,{children:[Object(h.jsx)(l.a,{position:"top-right",reverseOrder:!1}),Object(h.jsx)(u.b,{children:n})]})]})}a.a.render(Object(h.jsx)(A,{children:Object(h.jsx)(x,{})}),document.getElementById("root"))}},[[83,6,7]]]);
//# sourceMappingURL=main.c4c8be33.chunk.js.map